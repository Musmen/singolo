!function(n){var t={};function c(l){if(t[l])return t[l].exports;var e=t[l]={i:l,l:!1,exports:{}};return n[l].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=n,c.c=t,c.d=function(n,t,l){c.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:l})},c.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,t){if(1&t&&(n=c(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var l=Object.create(null);if(c.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)c.d(l,e,function(t){return n[t]}.bind(null,e));return l},c.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(t,"a",t),t},c.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},c.p="",c(c.s=1)}([function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Njc3Mvc3R5bGUuc2Nzcz9mNjlmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./scss/style.scss\nvar style = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./js/helper.js\nconst ENTER_KEY = 'Enter';\n\nconst FORM_DEFAULT_TEXT = {\n  STATUS: 'The letter was sent',\n  SUBJECT: 'No subject',\n  MESSAGE: 'No description',\n};\n\nconst ELEMENTS = {\n  HEADER: document.querySelector('.header'),\n  LAST_NAVIGATION_ITEM: document.querySelector('#mainNavigation').querySelector('a[href=\"#feedback\"]'),\n};\n\n// CONCATENATED MODULE: ./js/activeMenu.js\n\n\nclass activeMenu_ActiveMenu {\n  constructor(container, targetClass, activeClass) {\n    this.container = container;\n    this.targetClass = targetClass;\n    this.activeClass = activeClass;\n  }\n\n  removeActiveState() {\n    const { container, targetClass, activeClass } = this;\n\n    container.querySelectorAll(`.${targetClass}`)\n      .forEach((item) => {\n        item.classList.remove(activeClass);\n      });\n  }\n\n  setActiveState(target) {\n    const { activeClass } = this;\n\n    target.classList.add(activeClass);\n  }\n\n  toggleStates(target) {\n    this.removeActiveState();\n    this.setActiveState(target);\n  }\n\n  clickHandler(event) {\n    const { target } = event;\n    const { targetClass } = this;\n\n    if (!target.classList.contains(targetClass)) return;\n    this.toggleStates(target);\n  }\n\n  enterPressedHandler(event) {\n    const { target, key } = event;\n    const { targetClass } = this;\n\n    if ((key !== ENTER_KEY) || (!target.classList.contains(targetClass))) return;\n    this.toggleStates(target);\n  }\n\n  addHandlers() {\n    const { container } = this;\n\n    container.addEventListener('click', this.clickHandler.bind(this));\n    container.addEventListener('keyup', this.enterPressedHandler.bind(this));\n  }\n\n  init() {\n    this.addHandlers();\n  }\n}\n\n// CONCATENATED MODULE: ./js/utils.js\nconst disableDocumentScroll = () => {\n  document.body.classList.add('overflow-hidden');\n};\n\nconst enableDocumentScroll = () => {\n  document.body.classList.remove('overflow-hidden');\n};\n\nconst disableTab = (event) => {\n  if (event.key === 'Tab') event.preventDefault();\n};\n\nconst isDocumentBottomReached = () => {\n  const currentScrollY = window.pageYOffset;\n  const viewHeight = document.documentElement.clientHeight;\n  const maxScrollY = document.documentElement.scrollHeight;\n\n  return (currentScrollY + viewHeight >= maxScrollY);\n};\n\n// CONCATENATED MODULE: ./js/scrollMenu.js\n\n\n\n\nclass scrollMenu_ScrollMenu extends activeMenu_ActiveMenu {\n  constructor(container, targetClass, activeClass) {\n    super(container, targetClass, activeClass);\n\n    this.currentNavigationLink = null;\n    this.sectionList = null;\n  }\n\n  getCurrentNavigationLink() {\n    if (isDocumentBottomReached()) return ELEMENTS.LAST_NAVIGATION_ITEM;\n\n    const { container, currentNavigationLink, sectionsList } = this;\n    const headerHeight = ELEMENTS.HEADER.offsetHeight;\n    const currentPositionY = window.scrollY + headerHeight;\n\n    const currentSection = sectionsList.find((section) => (section.offsetTop <= currentPositionY)\n      && (section.offsetTop + section.offsetHeight > currentPositionY));\n\n    if (!currentSection) return currentNavigationLink;\n\n    const navigationLinkHref = currentSection.dataset.navigation;\n    const newCurrentNavigationLink = container.querySelector(`a[href=\"${navigationLinkHref}\"]`);\n    return newCurrentNavigationLink;\n  }\n\n  scrollHandler() {\n    const { currentNavigationLink } = this;\n    const target = this.getCurrentNavigationLink();\n    if (currentNavigationLink === target) return;\n\n    this.setCurrentNavigationLink(target);\n    this.toggleStates(target);\n  }\n\n  setCurrentNavigationLink(target) {\n    this.currentNavigationLink = target;\n  }\n\n  addScrollHandler() {\n    document.addEventListener('scroll', this.scrollHandler.bind(this));\n  }\n\n  addHandlers() {\n    this.addScrollHandler();\n  }\n\n  init() {\n    this.sectionsList = [...document.querySelectorAll('section[data-navigation]')];\n    this.scrollHandler();\n    super.init();\n  }\n}\n\n// CONCATENATED MODULE: ./js/tagsMenu.js\n\n\nclass tagsMenu_TagsMenu extends activeMenu_ActiveMenu {\n  constructor(container, targetClass, activeClass) {\n    super(container, targetClass, activeClass);\n\n    this.currentTag = null;\n    this.portfolioImages = null;\n    this.imageItems = null;\n  }\n\n  toggleStates(target) {\n    if (this.currentTag === target) return;\n\n    super.toggleStates(target);\n    this.currentTag = target;\n    this.changePortfolioImages(target);\n  }\n\n  getNewPortfolioImages() {\n    const imageItems = [...this.portfolioImages.querySelectorAll('.images__item')];\n\n    const firstImage = imageItems[0];\n    const restImages = imageItems.slice(1);\n    const newPortfolioImages = restImages.concat(firstImage);\n\n    const newPortfolio = document.createDocumentFragment();\n    newPortfolioImages.forEach((item) => newPortfolio.append(item));\n\n    return newPortfolio;\n  }\n\n  changePortfolioImages() {\n    const { portfolioImages } = this;\n    const newPortfolio = this.getNewPortfolioImages();\n\n    portfolioImages.innerHTML = '';\n    portfolioImages.append(newPortfolio);\n  }\n\n  init() {\n    this.currentTag = document.querySelector('.tags__button_active');\n    this.portfolioImages = document.querySelector('#portfolioImages');\n    super.init();\n  }\n}\n\n// CONCATENATED MODULE: ./js/slider.js\n\n\nclass slider_Slider {\n  constructor() {\n    this.currentSlide = 0;\n    this.isSliceEnabled = true;\n    this.slides = [];\n\n    this.slider = null;\n    this.controlButtons = {\n      previousSlide: null,\n      nextSlide: null,\n    };\n  }\n\n  changeCurrentSlide(index) {\n    const { slides } = this;\n\n    this.currentSlide = (index + slides.length) % slides.length;\n  }\n\n  hideItem(direction) {\n    const { slides, currentSlide } = this;\n    const slide = slides[currentSlide];\n\n    this.isSliceEnabled = false;\n    slide.classList.add(direction);\n    slide.addEventListener('animationend', () => {\n      slide.classList.remove('slider__active', direction);\n    });\n  }\n\n  showItem(direction) {\n    const { slides, currentSlide } = this;\n    const slide = slides[currentSlide];\n\n    slide.classList.add('slider__next', direction);\n    slide.addEventListener('animationend', () => {\n      slide.classList.remove('slider__next', direction);\n      slide.classList.add('slider__active');\n      this.isSliceEnabled = true;\n    });\n  }\n\n  nextItem(index) {\n    this.hideItem('to-left');\n    this.changeCurrentSlide(index + 1);\n    this.showItem('from-right');\n  }\n\n  previousItem(index) {\n    this.hideItem('to-right');\n    this.changeCurrentSlide(index - 1);\n    this.showItem('from-left');\n  }\n\n  sliderButtonClickHandler(callBack) {\n    if (this.isSliceEnabled) {\n      callBack(this.currentSlide);\n    }\n  }\n\n  phoneClickHandler(event) {\n    const { target } = event;\n    const dataClass = target.getAttribute('data-class');\n    if (!dataClass) return;\n\n    const content = this.slider.querySelector(`.${dataClass}`);\n    content.classList.toggle('display-off');\n  }\n\n  addHandlers() {\n    const { previousSlide, nextSlide } = this.controlButtons;\n    const { previousItem, nextItem } = this;\n    const gallery = this.slider.querySelector('.gallery');\n\n    previousSlide.addEventListener('click', () => {\n      this.sliderButtonClickHandler(previousItem.bind(this));\n    });\n    nextSlide.addEventListener('click', () => {\n      this.sliderButtonClickHandler(nextItem.bind(this));\n    });\n    gallery.addEventListener('click', this.phoneClickHandler.bind(this));\n    gallery.addEventListener('keyup', (event) => {\n      if (event.key !== ENTER_KEY) return;\n      this.phoneClickHandler.bind(this)(event);\n    });\n  }\n\n  init() {\n    this.slider = document.querySelector('.slider');\n    this.slides = this.slider.querySelectorAll('.slider__item');\n    this.controlButtons.previousSlide = this.slider.querySelector('.slider__button_previous');\n    this.controlButtons.nextSlide = this.slider.querySelector('.slider__button_next');\n\n    this.addHandlers();\n  }\n}\n\n// CONCATENATED MODULE: ./js/popup.js\n\n\nclass popup_Popup {\n  constructor(container = null, mainClass = 'popup', onOpenCallback, onCloseCallback) {\n    this.container = container;\n    this.mainClass = mainClass;\n    this.onOpenCallback = onOpenCallback;\n    this.onCloseCallback = onCloseCallback;\n\n    this.close = this.close.bind(this);\n  }\n\n  build(content) {\n    const { mainClass } = this;\n    const {\n      status,\n      defaultSubject,\n      defaultMessage,\n      subject,\n      message,\n    } = content;\n    const popup = document.querySelector('#popup__template').content.cloneNode(true);\n    const layout = popup.querySelector('.popup__layout');\n\n    layout.classList.add(mainClass);\n    popup.querySelector('.popup__status').textContent = status;\n\n    if (subject) {\n      popup.querySelector('.popup__lead_subject').textContent = subject;\n    } else popup.querySelector('.popup__subject').textContent = defaultSubject;\n    if (message) {\n      popup.querySelector('.popup__lead_message').textContent = message;\n    } else popup.querySelector('.popup__message').textContent = defaultMessage;\n\n    layout.addEventListener('click', this.close);\n\n    return popup;\n  }\n\n  open(content) {\n    const { container } = this;\n    const popup = this.build(content);\n\n    container.append(popup);\n\n    const popupLayout = container.querySelector('.popup__layout');\n    popupLayout.focus();\n    if (this.onOpenCallback) this.onOpenCallback(popupLayout);\n    disableDocumentScroll();\n  }\n\n  close(event) {\n    const { target } = event;\n    const { container } = this;\n    const popup = container.querySelector('.popup__layout');\n    const closePopupButton = popup.querySelector('.popup__close-button');\n    if (target !== closePopupButton) return;\n\n    if (this.onCloseCallback) this.onCloseCallback(popup);\n    popup.remove();\n    enableDocumentScroll();\n  }\n}\n\n// CONCATENATED MODULE: ./js/form.js\n\n\n\n\nclass form_Form {\n  constructor() {\n    this.form = null;\n    this.subjectField = null;\n    this.messageField = null;\n    this.formSubmitButton = null;\n    this.popup = null;\n  }\n\n  onOpenPopupHandler(popup) {\n    popup.addEventListener('keydown', disableTab.bind(this));\n  }\n\n  onClosePopupHandler(popup) {\n    const { formSubmitButton } = this;\n\n    popup.removeEventListener('keydown', disableTab.bind(this));\n    formSubmitButton.focus();\n    this.form.reset();\n  }\n\n  getMessageText() {\n    const defaultSubject = FORM_DEFAULT_TEXT.SUBJECT;\n    const defaultMessage = FORM_DEFAULT_TEXT.MESSAGE;\n    const subject = this.subjectField.value;\n    const message = this.messageField.value;\n\n    return {\n      status: FORM_DEFAULT_TEXT.STATUS,\n      defaultSubject,\n      defaultMessage,\n      subject,\n      message,\n    };\n  }\n\n  submitHandler(event) {\n    event.preventDefault();\n\n    const { popup } = this;\n    const content = this.getMessageText();\n\n    popup.open(content);\n  }\n\n  addHandlers() {\n    this.form.addEventListener('submit', this.submitHandler.bind(this));\n  }\n\n  init() {\n    this.form = document.querySelector('#feedback__form');\n    this.subjectField = this.form.querySelector('#form__subject');\n    this.messageField = this.form.querySelector('#form__message');\n    this.formSubmitButton = this.form.querySelector('#form__submit');\n\n    const onOpenPopupHandler = this.onOpenPopupHandler.bind(this);\n    const onClosePopupHandler = this.onClosePopupHandler.bind(this);\n\n    this.popup = new popup_Popup(document.querySelector('.feedback__wrapper'), 'form__popup', onOpenPopupHandler, onClosePopupHandler);\n\n    this.addHandlers();\n  }\n}\n\n// CONCATENATED MODULE: ./script.js\n\n\n\n\n\n\n\n\nwindow.onload = () => {\n  const mainNavigation = document.querySelector('#mainNavigation');\n  const mainNavigationActiveMenu = new scrollMenu_ScrollMenu(mainNavigation, 'navigation__link', 'navigation__link_active');\n  mainNavigationActiveMenu.init();\n\n  const portfolioImages = document.querySelector('#portfolioImages');\n  const portfolioImagesActiveMenu = new activeMenu_ActiveMenu(portfolioImages, 'portfolio__image', 'portfolio__image_active');\n  portfolioImagesActiveMenu.init();\n\n  const tagsList = document.querySelector('#tagsList');\n  const tagsListActiveMenu = new tagsMenu_TagsMenu(tagsList, 'tags__button', 'tags__button_active');\n  tagsListActiveMenu.init();\n\n  const slider = new slider_Slider();\n  slider.init();\n\n  const form = new form_Form();\n  form.init();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2hlbHBlci5qcz9jYmVlIiwid2VicGFjazovLy8uL2pzL2FjdGl2ZU1lbnUuanM/ZmQ3MCIsIndlYnBhY2s6Ly8vLi9qcy91dGlscy5qcz82ODYwIiwid2VicGFjazovLy8uL2pzL3Njcm9sbE1lbnUuanM/ODJkNiIsIndlYnBhY2s6Ly8vLi9qcy90YWdzTWVudS5qcz9kZDIxIiwid2VicGFjazovLy8uL2pzL3NsaWRlci5qcz83ZjkxIiwid2VicGFjazovLy8uL2pzL3BvcHVwLmpzP2MzNmQiLCJ3ZWJwYWNrOi8vLy4vanMvZm9ybS5qcz84YzBmIiwid2VicGFjazovLy8uL3NjcmlwdC5qcz9mN2E2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFTlRFUl9LRVkgPSAnRW50ZXInO1xuXG5leHBvcnQgY29uc3QgRk9STV9ERUZBVUxUX1RFWFQgPSB7XG4gIFNUQVRVUzogJ1RoZSBsZXR0ZXIgd2FzIHNlbnQnLFxuICBTVUJKRUNUOiAnTm8gc3ViamVjdCcsXG4gIE1FU1NBR0U6ICdObyBkZXNjcmlwdGlvbicsXG59O1xuXG5leHBvcnQgY29uc3QgRUxFTUVOVFMgPSB7XG4gIEhFQURFUjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLFxuICBMQVNUX05BVklHQVRJT05fSVRFTTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW5OYXZpZ2F0aW9uJykucXVlcnlTZWxlY3RvcignYVtocmVmPVwiI2ZlZWRiYWNrXCJdJyksXG59O1xuIiwiaW1wb3J0IHsgRU5URVJfS0VZIH0gZnJvbSAnLi9oZWxwZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY3RpdmVNZW51IHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCB0YXJnZXRDbGFzcywgYWN0aXZlQ2xhc3MpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnRhcmdldENsYXNzID0gdGFyZ2V0Q2xhc3M7XG4gICAgdGhpcy5hY3RpdmVDbGFzcyA9IGFjdGl2ZUNsYXNzO1xuICB9XG5cbiAgcmVtb3ZlQWN0aXZlU3RhdGUoKSB7XG4gICAgY29uc3QgeyBjb250YWluZXIsIHRhcmdldENsYXNzLCBhY3RpdmVDbGFzcyB9ID0gdGhpcztcblxuICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0YXJnZXRDbGFzc31gKVxuICAgICAgLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgc2V0QWN0aXZlU3RhdGUodGFyZ2V0KSB7XG4gICAgY29uc3QgeyBhY3RpdmVDbGFzcyB9ID0gdGhpcztcblxuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgfVxuXG4gIHRvZ2dsZVN0YXRlcyh0YXJnZXQpIHtcbiAgICB0aGlzLnJlbW92ZUFjdGl2ZVN0YXRlKCk7XG4gICAgdGhpcy5zZXRBY3RpdmVTdGF0ZSh0YXJnZXQpO1xuICB9XG5cbiAgY2xpY2tIYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50O1xuICAgIGNvbnN0IHsgdGFyZ2V0Q2xhc3MgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGFyZ2V0Q2xhc3MpKSByZXR1cm47XG4gICAgdGhpcy50b2dnbGVTdGF0ZXModGFyZ2V0KTtcbiAgfVxuXG4gIGVudGVyUHJlc3NlZEhhbmRsZXIoZXZlbnQpIHtcbiAgICBjb25zdCB7IHRhcmdldCwga2V5IH0gPSBldmVudDtcbiAgICBjb25zdCB7IHRhcmdldENsYXNzIH0gPSB0aGlzO1xuXG4gICAgaWYgKChrZXkgIT09IEVOVEVSX0tFWSkgfHwgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRhcmdldENsYXNzKSkpIHJldHVybjtcbiAgICB0aGlzLnRvZ2dsZVN0YXRlcyh0YXJnZXQpO1xuICB9XG5cbiAgYWRkSGFuZGxlcnMoKSB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHRoaXM7XG5cbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmVudGVyUHJlc3NlZEhhbmRsZXIuYmluZCh0aGlzKSk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuYWRkSGFuZGxlcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGRpc2FibGVEb2N1bWVudFNjcm9sbCA9ICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbn07XG5cbmV4cG9ydCBjb25zdCBlbmFibGVEb2N1bWVudFNjcm9sbCA9ICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXNhYmxlVGFiID0gKGV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5rZXkgPT09ICdUYWInKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRG9jdW1lbnRCb3R0b21SZWFjaGVkID0gKCkgPT4ge1xuICBjb25zdCBjdXJyZW50U2Nyb2xsWSA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgY29uc3Qgdmlld0hlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIGNvbnN0IG1heFNjcm9sbFkgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xuXG4gIHJldHVybiAoY3VycmVudFNjcm9sbFkgKyB2aWV3SGVpZ2h0ID49IG1heFNjcm9sbFkpO1xufTtcbiIsImltcG9ydCBBY3RpdmVNZW51IGZyb20gJy4vYWN0aXZlTWVudSc7XG5pbXBvcnQgeyBFTEVNRU5UUyB9IGZyb20gJy4vaGVscGVyJztcbmltcG9ydCB7IGlzRG9jdW1lbnRCb3R0b21SZWFjaGVkIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbE1lbnUgZXh0ZW5kcyBBY3RpdmVNZW51IHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCB0YXJnZXRDbGFzcywgYWN0aXZlQ2xhc3MpIHtcbiAgICBzdXBlcihjb250YWluZXIsIHRhcmdldENsYXNzLCBhY3RpdmVDbGFzcyk7XG5cbiAgICB0aGlzLmN1cnJlbnROYXZpZ2F0aW9uTGluayA9IG51bGw7XG4gICAgdGhpcy5zZWN0aW9uTGlzdCA9IG51bGw7XG4gIH1cblxuICBnZXRDdXJyZW50TmF2aWdhdGlvbkxpbmsoKSB7XG4gICAgaWYgKGlzRG9jdW1lbnRCb3R0b21SZWFjaGVkKCkpIHJldHVybiBFTEVNRU5UUy5MQVNUX05BVklHQVRJT05fSVRFTTtcblxuICAgIGNvbnN0IHsgY29udGFpbmVyLCBjdXJyZW50TmF2aWdhdGlvbkxpbmssIHNlY3Rpb25zTGlzdCB9ID0gdGhpcztcbiAgICBjb25zdCBoZWFkZXJIZWlnaHQgPSBFTEVNRU5UUy5IRUFERVIub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvblkgPSB3aW5kb3cuc2Nyb2xsWSArIGhlYWRlckhlaWdodDtcblxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gc2VjdGlvbnNMaXN0LmZpbmQoKHNlY3Rpb24pID0+IChzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50UG9zaXRpb25ZKVxuICAgICAgJiYgKHNlY3Rpb24ub2Zmc2V0VG9wICsgc2VjdGlvbi5vZmZzZXRIZWlnaHQgPiBjdXJyZW50UG9zaXRpb25ZKSk7XG5cbiAgICBpZiAoIWN1cnJlbnRTZWN0aW9uKSByZXR1cm4gY3VycmVudE5hdmlnYXRpb25MaW5rO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkxpbmtIcmVmID0gY3VycmVudFNlY3Rpb24uZGF0YXNldC5uYXZpZ2F0aW9uO1xuICAgIGNvbnN0IG5ld0N1cnJlbnROYXZpZ2F0aW9uTGluayA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBhW2hyZWY9XCIke25hdmlnYXRpb25MaW5rSHJlZn1cIl1gKTtcbiAgICByZXR1cm4gbmV3Q3VycmVudE5hdmlnYXRpb25MaW5rO1xuICB9XG5cbiAgc2Nyb2xsSGFuZGxlcigpIHtcbiAgICBjb25zdCB7IGN1cnJlbnROYXZpZ2F0aW9uTGluayB9ID0gdGhpcztcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLmdldEN1cnJlbnROYXZpZ2F0aW9uTGluaygpO1xuICAgIGlmIChjdXJyZW50TmF2aWdhdGlvbkxpbmsgPT09IHRhcmdldCkgcmV0dXJuO1xuXG4gICAgdGhpcy5zZXRDdXJyZW50TmF2aWdhdGlvbkxpbmsodGFyZ2V0KTtcbiAgICB0aGlzLnRvZ2dsZVN0YXRlcyh0YXJnZXQpO1xuICB9XG5cbiAgc2V0Q3VycmVudE5hdmlnYXRpb25MaW5rKHRhcmdldCkge1xuICAgIHRoaXMuY3VycmVudE5hdmlnYXRpb25MaW5rID0gdGFyZ2V0O1xuICB9XG5cbiAgYWRkU2Nyb2xsSGFuZGxlcigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIuYmluZCh0aGlzKSk7XG4gIH1cblxuICBhZGRIYW5kbGVycygpIHtcbiAgICB0aGlzLmFkZFNjcm9sbEhhbmRsZXIoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5zZWN0aW9uc0xpc3QgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbltkYXRhLW5hdmlnYXRpb25dJyldO1xuICAgIHRoaXMuc2Nyb2xsSGFuZGxlcigpO1xuICAgIHN1cGVyLmluaXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IEFjdGl2ZU1lbnUgZnJvbSAnLi9hY3RpdmVNZW51JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFnc01lbnUgZXh0ZW5kcyBBY3RpdmVNZW51IHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCB0YXJnZXRDbGFzcywgYWN0aXZlQ2xhc3MpIHtcbiAgICBzdXBlcihjb250YWluZXIsIHRhcmdldENsYXNzLCBhY3RpdmVDbGFzcyk7XG5cbiAgICB0aGlzLmN1cnJlbnRUYWcgPSBudWxsO1xuICAgIHRoaXMucG9ydGZvbGlvSW1hZ2VzID0gbnVsbDtcbiAgICB0aGlzLmltYWdlSXRlbXMgPSBudWxsO1xuICB9XG5cbiAgdG9nZ2xlU3RhdGVzKHRhcmdldCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRUYWcgPT09IHRhcmdldCkgcmV0dXJuO1xuXG4gICAgc3VwZXIudG9nZ2xlU3RhdGVzKHRhcmdldCk7XG4gICAgdGhpcy5jdXJyZW50VGFnID0gdGFyZ2V0O1xuICAgIHRoaXMuY2hhbmdlUG9ydGZvbGlvSW1hZ2VzKHRhcmdldCk7XG4gIH1cblxuICBnZXROZXdQb3J0Zm9saW9JbWFnZXMoKSB7XG4gICAgY29uc3QgaW1hZ2VJdGVtcyA9IFsuLi50aGlzLnBvcnRmb2xpb0ltYWdlcy5xdWVyeVNlbGVjdG9yQWxsKCcuaW1hZ2VzX19pdGVtJyldO1xuXG4gICAgY29uc3QgZmlyc3RJbWFnZSA9IGltYWdlSXRlbXNbMF07XG4gICAgY29uc3QgcmVzdEltYWdlcyA9IGltYWdlSXRlbXMuc2xpY2UoMSk7XG4gICAgY29uc3QgbmV3UG9ydGZvbGlvSW1hZ2VzID0gcmVzdEltYWdlcy5jb25jYXQoZmlyc3RJbWFnZSk7XG5cbiAgICBjb25zdCBuZXdQb3J0Zm9saW8gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgbmV3UG9ydGZvbGlvSW1hZ2VzLmZvckVhY2goKGl0ZW0pID0+IG5ld1BvcnRmb2xpby5hcHBlbmQoaXRlbSkpO1xuXG4gICAgcmV0dXJuIG5ld1BvcnRmb2xpbztcbiAgfVxuXG4gIGNoYW5nZVBvcnRmb2xpb0ltYWdlcygpIHtcbiAgICBjb25zdCB7IHBvcnRmb2xpb0ltYWdlcyB9ID0gdGhpcztcbiAgICBjb25zdCBuZXdQb3J0Zm9saW8gPSB0aGlzLmdldE5ld1BvcnRmb2xpb0ltYWdlcygpO1xuXG4gICAgcG9ydGZvbGlvSW1hZ2VzLmlubmVySFRNTCA9ICcnO1xuICAgIHBvcnRmb2xpb0ltYWdlcy5hcHBlbmQobmV3UG9ydGZvbGlvKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5jdXJyZW50VGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhZ3NfX2J1dHRvbl9hY3RpdmUnKTtcbiAgICB0aGlzLnBvcnRmb2xpb0ltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3J0Zm9saW9JbWFnZXMnKTtcbiAgICBzdXBlci5pbml0KCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEVOVEVSX0tFWSB9IGZyb20gJy4vaGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jdXJyZW50U2xpZGUgPSAwO1xuICAgIHRoaXMuaXNTbGljZUVuYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuc2xpZGVzID0gW107XG5cbiAgICB0aGlzLnNsaWRlciA9IG51bGw7XG4gICAgdGhpcy5jb250cm9sQnV0dG9ucyA9IHtcbiAgICAgIHByZXZpb3VzU2xpZGU6IG51bGwsXG4gICAgICBuZXh0U2xpZGU6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIGNoYW5nZUN1cnJlbnRTbGlkZShpbmRleCkge1xuICAgIGNvbnN0IHsgc2xpZGVzIH0gPSB0aGlzO1xuXG4gICAgdGhpcy5jdXJyZW50U2xpZGUgPSAoaW5kZXggKyBzbGlkZXMubGVuZ3RoKSAlIHNsaWRlcy5sZW5ndGg7XG4gIH1cblxuICBoaWRlSXRlbShkaXJlY3Rpb24pIHtcbiAgICBjb25zdCB7IHNsaWRlcywgY3VycmVudFNsaWRlIH0gPSB0aGlzO1xuICAgIGNvbnN0IHNsaWRlID0gc2xpZGVzW2N1cnJlbnRTbGlkZV07XG5cbiAgICB0aGlzLmlzU2xpY2VFbmFibGVkID0gZmFsc2U7XG4gICAgc2xpZGUuY2xhc3NMaXN0LmFkZChkaXJlY3Rpb24pO1xuICAgIHNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsICgpID0+IHtcbiAgICAgIHNsaWRlLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fYWN0aXZlJywgZGlyZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3dJdGVtKGRpcmVjdGlvbikge1xuICAgIGNvbnN0IHsgc2xpZGVzLCBjdXJyZW50U2xpZGUgfSA9IHRoaXM7XG4gICAgY29uc3Qgc2xpZGUgPSBzbGlkZXNbY3VycmVudFNsaWRlXTtcblxuICAgIHNsaWRlLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fbmV4dCcsIGRpcmVjdGlvbik7XG4gICAgc2xpZGUuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xuICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19uZXh0JywgZGlyZWN0aW9uKTtcbiAgICAgIHNsaWRlLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fYWN0aXZlJyk7XG4gICAgICB0aGlzLmlzU2xpY2VFbmFibGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIG5leHRJdGVtKGluZGV4KSB7XG4gICAgdGhpcy5oaWRlSXRlbSgndG8tbGVmdCcpO1xuICAgIHRoaXMuY2hhbmdlQ3VycmVudFNsaWRlKGluZGV4ICsgMSk7XG4gICAgdGhpcy5zaG93SXRlbSgnZnJvbS1yaWdodCcpO1xuICB9XG5cbiAgcHJldmlvdXNJdGVtKGluZGV4KSB7XG4gICAgdGhpcy5oaWRlSXRlbSgndG8tcmlnaHQnKTtcbiAgICB0aGlzLmNoYW5nZUN1cnJlbnRTbGlkZShpbmRleCAtIDEpO1xuICAgIHRoaXMuc2hvd0l0ZW0oJ2Zyb20tbGVmdCcpO1xuICB9XG5cbiAgc2xpZGVyQnV0dG9uQ2xpY2tIYW5kbGVyKGNhbGxCYWNrKSB7XG4gICAgaWYgKHRoaXMuaXNTbGljZUVuYWJsZWQpIHtcbiAgICAgIGNhbGxCYWNrKHRoaXMuY3VycmVudFNsaWRlKTtcbiAgICB9XG4gIH1cblxuICBwaG9uZUNsaWNrSGFuZGxlcihldmVudCkge1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDtcbiAgICBjb25zdCBkYXRhQ2xhc3MgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNsYXNzJyk7XG4gICAgaWYgKCFkYXRhQ2xhc3MpIHJldHVybjtcblxuICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLnNsaWRlci5xdWVyeVNlbGVjdG9yKGAuJHtkYXRhQ2xhc3N9YCk7XG4gICAgY29udGVudC5jbGFzc0xpc3QudG9nZ2xlKCdkaXNwbGF5LW9mZicpO1xuICB9XG5cbiAgYWRkSGFuZGxlcnMoKSB7XG4gICAgY29uc3QgeyBwcmV2aW91c1NsaWRlLCBuZXh0U2xpZGUgfSA9IHRoaXMuY29udHJvbEJ1dHRvbnM7XG4gICAgY29uc3QgeyBwcmV2aW91c0l0ZW0sIG5leHRJdGVtIH0gPSB0aGlzO1xuICAgIGNvbnN0IGdhbGxlcnkgPSB0aGlzLnNsaWRlci5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeScpO1xuXG4gICAgcHJldmlvdXNTbGlkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuc2xpZGVyQnV0dG9uQ2xpY2tIYW5kbGVyKHByZXZpb3VzSXRlbS5iaW5kKHRoaXMpKTtcbiAgICB9KTtcbiAgICBuZXh0U2xpZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnNsaWRlckJ1dHRvbkNsaWNrSGFuZGxlcihuZXh0SXRlbS5iaW5kKHRoaXMpKTtcbiAgICB9KTtcbiAgICBnYWxsZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5waG9uZUNsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICBnYWxsZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ICE9PSBFTlRFUl9LRVkpIHJldHVybjtcbiAgICAgIHRoaXMucGhvbmVDbGlja0hhbmRsZXIuYmluZCh0aGlzKShldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpO1xuICAgIHRoaXMuc2xpZGVzID0gdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcl9faXRlbScpO1xuICAgIHRoaXMuY29udHJvbEJ1dHRvbnMucHJldmlvdXNTbGlkZSA9IHRoaXMuc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2J1dHRvbl9wcmV2aW91cycpO1xuICAgIHRoaXMuY29udHJvbEJ1dHRvbnMubmV4dFNsaWRlID0gdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fYnV0dG9uX25leHQnKTtcblxuICAgIHRoaXMuYWRkSGFuZGxlcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgZGlzYWJsZURvY3VtZW50U2Nyb2xsLCBlbmFibGVEb2N1bWVudFNjcm9sbCB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciA9IG51bGwsIG1haW5DbGFzcyA9ICdwb3B1cCcsIG9uT3BlbkNhbGxiYWNrLCBvbkNsb3NlQ2FsbGJhY2spIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLm1haW5DbGFzcyA9IG1haW5DbGFzcztcbiAgICB0aGlzLm9uT3BlbkNhbGxiYWNrID0gb25PcGVuQ2FsbGJhY2s7XG4gICAgdGhpcy5vbkNsb3NlQ2FsbGJhY2sgPSBvbkNsb3NlQ2FsbGJhY2s7XG5cbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYnVpbGQoY29udGVudCkge1xuICAgIGNvbnN0IHsgbWFpbkNsYXNzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHN0YXR1cyxcbiAgICAgIGRlZmF1bHRTdWJqZWN0LFxuICAgICAgZGVmYXVsdE1lc3NhZ2UsXG4gICAgICBzdWJqZWN0LFxuICAgICAgbWVzc2FnZSxcbiAgICB9ID0gY29udGVudDtcbiAgICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cF9fdGVtcGxhdGUnKS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICBjb25zdCBsYXlvdXQgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2xheW91dCcpO1xuXG4gICAgbGF5b3V0LmNsYXNzTGlzdC5hZGQobWFpbkNsYXNzKTtcbiAgICBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N0YXR1cycpLnRleHRDb250ZW50ID0gc3RhdHVzO1xuXG4gICAgaWYgKHN1YmplY3QpIHtcbiAgICAgIHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fbGVhZF9zdWJqZWN0JykudGV4dENvbnRlbnQgPSBzdWJqZWN0O1xuICAgIH0gZWxzZSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1YmplY3QnKS50ZXh0Q29udGVudCA9IGRlZmF1bHRTdWJqZWN0O1xuICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2xlYWRfbWVzc2FnZScpLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICB9IGVsc2UgcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19tZXNzYWdlJykudGV4dENvbnRlbnQgPSBkZWZhdWx0TWVzc2FnZTtcblxuICAgIGxheW91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xuXG4gICAgcmV0dXJuIHBvcHVwO1xuICB9XG5cbiAgb3Blbihjb250ZW50KSB7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHRoaXM7XG4gICAgY29uc3QgcG9wdXAgPSB0aGlzLmJ1aWxkKGNvbnRlbnQpO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZChwb3B1cCk7XG5cbiAgICBjb25zdCBwb3B1cExheW91dCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2xheW91dCcpO1xuICAgIHBvcHVwTGF5b3V0LmZvY3VzKCk7XG4gICAgaWYgKHRoaXMub25PcGVuQ2FsbGJhY2spIHRoaXMub25PcGVuQ2FsbGJhY2socG9wdXBMYXlvdXQpO1xuICAgIGRpc2FibGVEb2N1bWVudFNjcm9sbCgpO1xuICB9XG5cbiAgY2xvc2UoZXZlbnQpIHtcbiAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBjb250YWluZXIgfSA9IHRoaXM7XG4gICAgY29uc3QgcG9wdXAgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19sYXlvdXQnKTtcbiAgICBjb25zdCBjbG9zZVBvcHVwQnV0dG9uID0gcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKTtcbiAgICBpZiAodGFyZ2V0ICE9PSBjbG9zZVBvcHVwQnV0dG9uKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5vbkNsb3NlQ2FsbGJhY2spIHRoaXMub25DbG9zZUNhbGxiYWNrKHBvcHVwKTtcbiAgICBwb3B1cC5yZW1vdmUoKTtcbiAgICBlbmFibGVEb2N1bWVudFNjcm9sbCgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBGT1JNX0RFRkFVTFRfVEVYVCB9IGZyb20gJy4vaGVscGVyJztcbmltcG9ydCB7IGRpc2FibGVUYWIgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBQb3B1cCBmcm9tICcuL3BvcHVwJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZm9ybSA9IG51bGw7XG4gICAgdGhpcy5zdWJqZWN0RmllbGQgPSBudWxsO1xuICAgIHRoaXMubWVzc2FnZUZpZWxkID0gbnVsbDtcbiAgICB0aGlzLmZvcm1TdWJtaXRCdXR0b24gPSBudWxsO1xuICAgIHRoaXMucG9wdXAgPSBudWxsO1xuICB9XG5cbiAgb25PcGVuUG9wdXBIYW5kbGVyKHBvcHVwKSB7XG4gICAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRpc2FibGVUYWIuYmluZCh0aGlzKSk7XG4gIH1cblxuICBvbkNsb3NlUG9wdXBIYW5kbGVyKHBvcHVwKSB7XG4gICAgY29uc3QgeyBmb3JtU3VibWl0QnV0dG9uIH0gPSB0aGlzO1xuXG4gICAgcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRpc2FibGVUYWIuYmluZCh0aGlzKSk7XG4gICAgZm9ybVN1Ym1pdEJ1dHRvbi5mb2N1cygpO1xuICAgIHRoaXMuZm9ybS5yZXNldCgpO1xuICB9XG5cbiAgZ2V0TWVzc2FnZVRleHQoKSB7XG4gICAgY29uc3QgZGVmYXVsdFN1YmplY3QgPSBGT1JNX0RFRkFVTFRfVEVYVC5TVUJKRUNUO1xuICAgIGNvbnN0IGRlZmF1bHRNZXNzYWdlID0gRk9STV9ERUZBVUxUX1RFWFQuTUVTU0FHRTtcbiAgICBjb25zdCBzdWJqZWN0ID0gdGhpcy5zdWJqZWN0RmllbGQudmFsdWU7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZUZpZWxkLnZhbHVlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXR1czogRk9STV9ERUZBVUxUX1RFWFQuU1RBVFVTLFxuICAgICAgZGVmYXVsdFN1YmplY3QsXG4gICAgICBkZWZhdWx0TWVzc2FnZSxcbiAgICAgIHN1YmplY3QsXG4gICAgICBtZXNzYWdlLFxuICAgIH07XG4gIH1cblxuICBzdWJtaXRIYW5kbGVyKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IHsgcG9wdXAgfSA9IHRoaXM7XG4gICAgY29uc3QgY29udGVudCA9IHRoaXMuZ2V0TWVzc2FnZVRleHQoKTtcblxuICAgIHBvcHVwLm9wZW4oY29udGVudCk7XG4gIH1cblxuICBhZGRIYW5kbGVycygpIHtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5zdWJtaXRIYW5kbGVyLmJpbmQodGhpcykpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmVlZGJhY2tfX2Zvcm0nKTtcbiAgICB0aGlzLnN1YmplY3RGaWVsZCA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKCcjZm9ybV9fc3ViamVjdCcpO1xuICAgIHRoaXMubWVzc2FnZUZpZWxkID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoJyNmb3JtX19tZXNzYWdlJyk7XG4gICAgdGhpcy5mb3JtU3VibWl0QnV0dG9uID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoJyNmb3JtX19zdWJtaXQnKTtcblxuICAgIGNvbnN0IG9uT3BlblBvcHVwSGFuZGxlciA9IHRoaXMub25PcGVuUG9wdXBIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgY29uc3Qgb25DbG9zZVBvcHVwSGFuZGxlciA9IHRoaXMub25DbG9zZVBvcHVwSGFuZGxlci5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5wb3B1cCA9IG5ldyBQb3B1cChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmVlZGJhY2tfX3dyYXBwZXInKSwgJ2Zvcm1fX3BvcHVwJywgb25PcGVuUG9wdXBIYW5kbGVyLCBvbkNsb3NlUG9wdXBIYW5kbGVyKTtcblxuICAgIHRoaXMuYWRkSGFuZGxlcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL3Njc3Mvc3R5bGUuc2Nzcyc7XG5cbmltcG9ydCBBY3RpdmVNZW51IGZyb20gJy4vanMvYWN0aXZlTWVudSc7XG5pbXBvcnQgU2Nyb2xsTWVudSBmcm9tICcuL2pzL3Njcm9sbE1lbnUnO1xuaW1wb3J0IFRhZ3NNZW51IGZyb20gJy4vanMvdGFnc01lbnUnO1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL2pzL3NsaWRlcic7XG5pbXBvcnQgRm9ybSBmcm9tICcuL2pzL2Zvcm0nO1xuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICBjb25zdCBtYWluTmF2aWdhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluTmF2aWdhdGlvbicpO1xuICBjb25zdCBtYWluTmF2aWdhdGlvbkFjdGl2ZU1lbnUgPSBuZXcgU2Nyb2xsTWVudShtYWluTmF2aWdhdGlvbiwgJ25hdmlnYXRpb25fX2xpbmsnLCAnbmF2aWdhdGlvbl9fbGlua19hY3RpdmUnKTtcbiAgbWFpbk5hdmlnYXRpb25BY3RpdmVNZW51LmluaXQoKTtcblxuICBjb25zdCBwb3J0Zm9saW9JbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9ydGZvbGlvSW1hZ2VzJyk7XG4gIGNvbnN0IHBvcnRmb2xpb0ltYWdlc0FjdGl2ZU1lbnUgPSBuZXcgQWN0aXZlTWVudShwb3J0Zm9saW9JbWFnZXMsICdwb3J0Zm9saW9fX2ltYWdlJywgJ3BvcnRmb2xpb19faW1hZ2VfYWN0aXZlJyk7XG4gIHBvcnRmb2xpb0ltYWdlc0FjdGl2ZU1lbnUuaW5pdCgpO1xuXG4gIGNvbnN0IHRhZ3NMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RhZ3NMaXN0Jyk7XG4gIGNvbnN0IHRhZ3NMaXN0QWN0aXZlTWVudSA9IG5ldyBUYWdzTWVudSh0YWdzTGlzdCwgJ3RhZ3NfX2J1dHRvbicsICd0YWdzX19idXR0b25fYWN0aXZlJyk7XG4gIHRhZ3NMaXN0QWN0aXZlTWVudS5pbml0KCk7XG5cbiAgY29uc3Qgc2xpZGVyID0gbmV3IFNsaWRlcigpO1xuICBzbGlkZXIuaW5pdCgpO1xuXG4gIGNvbnN0IGZvcm0gPSBuZXcgRm9ybSgpO1xuICBmb3JtLmluaXQoKTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3ZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n")}]);